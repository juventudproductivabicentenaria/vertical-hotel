<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>
        <template id="hotel_search_reservation" name="reservation">
            <t t-call="website.layout">
                <section class="s_cover bg-black-50 pt96 pb96 o_colored_level s_parallax_no_overflow_hidden parallax s_parallax_is_fixed" 
                    data-scroll-background-ratio="1" data-snippet="s_cover" 
                    data-name="Cover" style="background-position: 0% 26.9058%; position: relative;" 
                    data-oe-shape-data="{&quot;shape&quot;:&quot;web_editor/Wavy/11&quot;,&quot;flip&quot;:[]}">
                    <span class="s_parallax_bg oe_img_bg" style="background-image:url('/hotel_reservation/static/src/img/san_juan1.jpeg');"
                        data-scroll-background-ratio="0" data-original-id="749" 
                        data-original-src="/hotel_reservation/static/src/img/san_juan1.jpeg" 
                        data-mimetype="image/jpeg" data-resize-width="1920"></span>
                    <div class="o_we_shape o_web_editor_Wavy_11" style=""></div>
                    <div class="s_allow_columns container">
                        <h1 style="text-align: center;">
                            <span style="font-size: 62px;">Reservaciones</span>
                        </h1>
                        <!-- <p class="lead" style="text-align: center;"> <b></b> </p> -->
                    </div>
                </section>
                <div id="reservation">
                    <div class="container pt-3">
                        <!-- <h1>Reservación</h1> -->
                        <div class="search_reserva row"/>
                        <div class="row" id="o_website_form_result"></div>
                        <div id="rooms_available" class="rooms_available row"/>
                    </div>
                </div>
            </t>
        </template>

        <template id="room_reserved" name="reserved">
            <t t-call="website.layout">
                <div class="page-wrapper p-t-180 p-b-100" id="reserved">
                    <div class="wrapper wrapper--w960 font-robo">
                        <t t-foreach="reservations" t-as="reservation">
                            <div class="row row-space">
                                <div class="banner  col-sm-4 col-md-8" style="height: 20px; transform: translateY(-20%);">
                                    <strong style="font-family:sans-serif; font-size: 1.7em; color:rgba(253, 0, 0, 0.452);;">Recordatorio:</strong>
                                    <div style="font-family: 'Quicksand', sans-serif; font-size: 1.7em;">
                                        EL horario de entrada es de 04:00 pm hasta las 12:00 pm
                                    </div>
                                </div>
                                <div style="transform: translateX(5%);">
                                    <a href="/reservation">
                                        <button class="btn btn-primary" style="border-radius: 12px;">
                                            <i class="fa fa-arrow-circle-left fa-2x"></i>
                                        </button>
                                    </a>
                                </div>
                            </div>
                            <div class="card card-2">
                                <div class="card-heading text-center">
                                    <i class="fa fa-check-circle-o check-circle fa-10x"></i>
                                </div>
                                <div class="card-body">
                                    <h2 t-if="reserve" class="title">Su reservación fue exitosa</h2>
                                    <div class="row row-space">
                                        <table class="table_room_reserved text-center">
                                        <thead>
                                            <tr>
                                            <th>Número de reserva</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                            <td><span t-esc="reservation.reservation_no"/></td>
                                            </tr>
                                        </tbody>
                                        </table>
                                        <table class="table_room_reserved text-center">
                                            <thead>
                                            <tr>
                                                <th>Fecha de pedido: </th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                <td><span t-esc="reservation.date_order"/></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="row row-space">
                                        <table class="table_room_reserved text-center">
                                            <thead>
                                                <tr>
                                                <th>Fecha-Llegada-Prevista</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                <td><span t-esc="reservation.checkin.strftime('%d-%m-%Y')"/></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <table class="table_room_reserved text-center">
                                            <thead>
                                                <tr>
                                                <th>Fecha-Salida-Prevista</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                <td><span t-esc="reservation.checkout.strftime('%d-%m-%Y')"/></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="pp-10">
                                        <h3 class="title">Habitaciones reservadas</h3>
                                        <table class="table table-dark table-hover customers">
                                            <thead>
                                                <tr>
                                                    <th colspan="5">Habitación</th>
                                                    <th colspan="5">Capacidad</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <t t-set="iterador" t-value="0"/>
                                                <tr t-foreach="reservation.reservation_line_ids" t-as="reserve">
                                                    <td colspan="5"><span t-esc="reserve.partner_id.name"/></td>
                                                    <td colspan="5"><span t-esc="reservation.adults"/></td>
                                                    <t t-set="iterador" t-value="iterador+1"/>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <a t-attf-href="/reserve/list/#{reservation.id}?token=#{reservation.token}">
                                            <button t-if="reservation.state != 'cancel'" class="btn btn-primary" style="border-radius: 12px; font-size: 1.2em;">
                                                <span>Cancelar reservación</span>
                                            </button>
                                        </a>
                                        <a t-attf-href="/reserve/list">
                                            <button class="btn btn-primary" style="border-radius: 12px; font-size: 1.2em;">
                                                <span>Mis reservaciones</span>
                                            </button>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </div>
                </div>
            </t>
        </template>

        <template id="reserve_list" name="reserve_list">
            <t t-call="website.layout">
                <div class="p-b-100" id="reserve_list">
                    <div class="container pt-3">
                        <h1>Reservaciones</h1>
                        <h1 t-if="message" class="title">Su cancelación fue exitosa</h1>
                        <div class="card-2 pp-10" style="font-size:1.2em;">
                            <table t-if="reservation_id" class="table table-hover text-center">
                                <thead class="thead-dark">
                                  <tr>
                                    <th>Número de reserva</th>
                                    <th>Nombre del huesped</th>
                                    <th>Fecha-Llegada-Prevista</th>
                                    <th>Fecha-Salida-Prevista</th>
                                    <th>Estado</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr t-foreach="reservation_id" t-as="reservation">
                                    <td>
                                        <a t-attf-href="/reserved/#{reservation.id}?token=#{reservation.token}">
                                            <span t-esc="reservation.reservation_no"/>
                                        </a>
                                    </td>
                                    <td><span t-esc="reservation.partner_id.name"/></td>
                                    <td><span t-esc="reservation.checkin.strftime('%d-%m-%Y')"/></td>
                                    <td><span t-esc="reservation.checkout.strftime('%d-%m-%Y')"/></td>
                                    <td><span t-field="reservation.state"/></td>
                                  </tr>
                                </tbody>
                            </table>
                            <t t-else="">
                                <h1 class="text-center">No hay reservaciones disponibles</h1>
                            </t>
                        </div>
                    </div>
                </div>
            </t>
        </template>

    </data>
</odoo>
